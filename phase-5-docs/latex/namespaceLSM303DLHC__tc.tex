\hypertarget{namespaceLSM303DLHC__tc}{}\section{L\+S\+M303\+D\+L\+H\+C\+\_\+tc Namespace Reference}
\label{namespaceLSM303DLHC__tc}\index{L\+S\+M303\+D\+L\+H\+C\+\_\+tc@{L\+S\+M303\+D\+L\+H\+C\+\_\+tc}}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{namespaceLSM303DLHC__tc_afdbd22919beef6fa404147334274b942}\label{namespaceLSM303DLHC__tc_afdbd22919beef6fa404147334274b942}} 
def {\bfseries get\+Raw\+\_\+\+Heading} ()
\item 
\mbox{\Hypertarget{namespaceLSM303DLHC__tc_a118d156d3065cff7b35cc4c214f621ac}\label{namespaceLSM303DLHC__tc_a118d156d3065cff7b35cc4c214f621ac}} 
def {\bfseries get\+\_\+cal\+\_\+heading} (mag\+\_\+raw, acc\+\_\+raw)
\item 
\mbox{\Hypertarget{namespaceLSM303DLHC__tc_a9cc9e64bd5c0afaf6b8fc9f19890e6f1}\label{namespaceLSM303DLHC__tc_a9cc9e64bd5c0afaf6b8fc9f19890e6f1}} 
def {\bfseries lp\+\_\+filter} (norm\+\_\+mag, norm\+\_\+acc)
\item 
\mbox{\Hypertarget{namespaceLSM303DLHC__tc_ad7d31109d7ecf209ed9dc06d31d68332}\label{namespaceLSM303DLHC__tc_ad7d31109d7ecf209ed9dc06d31d68332}} 
def {\bfseries pitch\+\_\+roll} (filtered\+\_\+acc)
\item 
\mbox{\Hypertarget{namespaceLSM303DLHC__tc_a40ebf836a38368a986974577e143cbb5}\label{namespaceLSM303DLHC__tc_a40ebf836a38368a986974577e143cbb5}} 
def {\bfseries tc\+\_\+heading} ()
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{namespaceLSM303DLHC__tc_af1fd802de9957719aac5345aec8098d8}\label{namespaceLSM303DLHC__tc_af1fd802de9957719aac5345aec8098d8}} 
{\bfseries i2c} = busio.\+I2C(board.\+S\+CL, board.\+S\+DA)
\item 
\mbox{\Hypertarget{namespaceLSM303DLHC__tc_a09069f01b960a0147af6cf2b23e2a18a}\label{namespaceLSM303DLHC__tc_a09069f01b960a0147af6cf2b23e2a18a}} 
{\bfseries accel} = adafruit\+\_\+lsm303\+\_\+accel.\+L\+S\+M303\+\_\+\+Accel(i2c)
\item 
\mbox{\Hypertarget{namespaceLSM303DLHC__tc_a6e0cf9513a377bbf9780416130e11637}\label{namespaceLSM303DLHC__tc_a6e0cf9513a377bbf9780416130e11637}} 
{\bfseries mag} = adafruit\+\_\+lsm303dlh\+\_\+mag.\+L\+S\+M303\+D\+L\+H\+\_\+\+Mag(i2c)
\item 
{\bfseries mag\+\_\+transformation\+\_\+matrix}
\item 
{\bfseries acc\+\_\+transformation\+\_\+matrix}
\item 
\mbox{\Hypertarget{namespaceLSM303DLHC__tc_a8f4c06d11145d97157ca8db519a28fa5}\label{namespaceLSM303DLHC__tc_a8f4c06d11145d97157ca8db519a28fa5}} 
{\bfseries mag\+\_\+bias} = np.\+array(\mbox{[}-\/15.\+156, -\/2.\+738, -\/53.\+182\mbox{]})
\item 
\mbox{\Hypertarget{namespaceLSM303DLHC__tc_ad6dafd853e3349f2727c43376236b25e}\label{namespaceLSM303DLHC__tc_ad6dafd853e3349f2727c43376236b25e}} 
{\bfseries acc\+\_\+bias} = np.\+array(\mbox{[}0.\+192, 0.\+054, -\/0.\+127\mbox{]})
\end{DoxyCompactItemize}


\subsection{Detailed Description}
\begin{DoxyVerb}Rev 1.0 
11/XX/2020
Rene Nicklich for EPRI_MAIN5 Senior Design Project at the University of North Carolina at Charlotte
Contact: rene.nicklich92@gmail.com

This Tilt Compensation Code is based on an Arduino Script found on the following website:
https://www.instructables.com/Tilt-Compensated-Compass-With-LSM303DHLC/

This code will return calibrated and tilt compensated compass heading values.

This Code requires some libraries to be downloaded -->  run the following commands in bash on the rasPi:
$ sudo pip3 install adafruit-circuitpython-lsm303-accel
$ sudo pip3 install adafruit-circuitpython-lsm303dlh-mag

if Pip is not install run:
$ pip
--> follow instructions
OR:
$ sudo apt install python3-pip
\end{DoxyVerb}
 

\subsection{Variable Documentation}
\mbox{\Hypertarget{namespaceLSM303DLHC__tc_a4f264070c04c16ab9411e7fa61f10c34}\label{namespaceLSM303DLHC__tc_a4f264070c04c16ab9411e7fa61f10c34}} 
\index{L\+S\+M303\+D\+L\+H\+C\+\_\+tc@{L\+S\+M303\+D\+L\+H\+C\+\_\+tc}!acc\+\_\+transformation\+\_\+matrix@{acc\+\_\+transformation\+\_\+matrix}}
\index{acc\+\_\+transformation\+\_\+matrix@{acc\+\_\+transformation\+\_\+matrix}!L\+S\+M303\+D\+L\+H\+C\+\_\+tc@{L\+S\+M303\+D\+L\+H\+C\+\_\+tc}}
\subsubsection{\texorpdfstring{acc\+\_\+transformation\+\_\+matrix}{acc\_transformation\_matrix}}
{\footnotesize\ttfamily L\+S\+M303\+D\+L\+H\+C\+\_\+tc.\+acc\+\_\+transformation\+\_\+matrix}

{\bfseries Initial value\+:}
\begin{DoxyCode}
1 =  np.array([[1.007, 0.003, 0.006], 
2                             [-0.001, 0.988, -0.005], 
3                             [-0.022, 0.008, 1.007]])
\end{DoxyCode}
\mbox{\Hypertarget{namespaceLSM303DLHC__tc_a1d4f9102ab18225ce070dd935eff9114}\label{namespaceLSM303DLHC__tc_a1d4f9102ab18225ce070dd935eff9114}} 
\index{L\+S\+M303\+D\+L\+H\+C\+\_\+tc@{L\+S\+M303\+D\+L\+H\+C\+\_\+tc}!mag\+\_\+transformation\+\_\+matrix@{mag\+\_\+transformation\+\_\+matrix}}
\index{mag\+\_\+transformation\+\_\+matrix@{mag\+\_\+transformation\+\_\+matrix}!L\+S\+M303\+D\+L\+H\+C\+\_\+tc@{L\+S\+M303\+D\+L\+H\+C\+\_\+tc}}
\subsubsection{\texorpdfstring{mag\+\_\+transformation\+\_\+matrix}{mag\_transformation\_matrix}}
{\footnotesize\ttfamily L\+S\+M303\+D\+L\+H\+C\+\_\+tc.\+mag\+\_\+transformation\+\_\+matrix}

{\bfseries Initial value\+:}
\begin{DoxyCode}
1 =  np.array([[1.383, 0.108, 0.127], 
2                             [-0.034, 1.374, 0.025], 
3                             [0.205, -0.025, 1.47]])
\end{DoxyCode}
